---
import Button from '../ui/Button.astro';
import Badge from '../ui/Badge.astro';
import { siteConfig } from '../../config/siteConfig';

const certifications = siteConfig.certifications.map((c) => ({ label: c.label, variant: c.variant }));
const pullquote = siteConfig.bio.pullquote;
const storyPreview = siteConfig.bio.storyPreview;
---

<section class="py-14 md:py-24 bg-white overflow-hidden" style="border-top: 1px solid rgba(201,169,110,0.2);">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-10 md:gap-12 items-center">

      <!-- Image Column -->
      <div class="flex justify-center lg:justify-start" data-aos="fade-right">
        <div class="relative mx-8 sm:mx-12 lg:mx-0">
          <!-- Decorative offset background -->
          <div class="absolute -top-4 -left-4 w-full h-full bg-primary-100 rounded-2xl"></div>
          <div class="absolute -bottom-4 -right-4 w-full h-full rounded-2xl" style="background-color: rgba(201,169,110,0.25);"></div>

          <!-- Coach portrait — full image visible, no cropping -->
          <img
            src={siteConfig.images.portrait}
            alt={`${siteConfig.coach.name} — Certified Professional Coach and ${siteConfig.stats.yearsExperience} year healthcare veteran`}
            width="1024" height="1024"
            decoding="async"
            class="relative w-56 sm:w-72 md:w-80 lg:w-96 rounded-2xl shadow-xl ring-4 ring-white"
            style="display: block; width: 100%; height: auto; object-fit: contain;"
            loading="lazy"
          />

          <!-- Floating credential badge -->
          <div class="absolute -bottom-4 -right-4 bg-accent-800 text-white rounded-xl px-3 py-2 md:px-4 md:py-3 shadow-lg text-center">
            <p class="font-heading font-bold text-xl md:text-2xl leading-none" style="color: #C9A96E;">40+</p>
            <p class="font-body text-xs text-accent-200 mt-0.5">Years Experience</p>
          </div>
        </div>
      </div>

      <!-- Content Column -->
      <div data-aos="fade-left" data-aos-delay="100">
        <span class="inline-block text-primary-600 font-body font-medium text-sm uppercase tracking-wider mb-3">
          About Me
        </span>

        <h2 class="text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-heading font-bold leading-tight" style="color: #1B3A5C; letter-spacing: -0.02em; line-height: 1.1;">
          Your Partner in <br class="hidden md:block" />
          <span style="color: #98D8AA;">Transformation &amp; Success</span>
        </h2>

        <p class="mt-6 text-lg font-body" style="color: #3a3a3a; line-height: 1.7;">
          {storyPreview}
        </p>

        <!-- Pullquote -->
        <blockquote class="mt-6 pl-6 border-l-[3px]" style="border-left: 3px solid #C9A96E;">
          <p class="text-xl font-heading italic leading-relaxed" style="color: #1B3A5C;">
            "{pullquote}"
          </p>
          <cite class="mt-2 block text-sm font-body text-gray-500 not-italic">— {siteConfig.coach.name}</cite>
        </blockquote>

        <!-- Certifications -->
        <div class="mt-6">
          <p class="text-sm font-body font-medium mb-3" style="color: #6b6b6b;">Certifications:</p>
          <div class="flex flex-wrap gap-2">
            {certifications.map((cert) => (
              <Badge variant={cert.variant}>{cert.label}</Badge>
            ))}
          </div>
        </div>

        <div class="mt-8">
          <Button href="/about" variant="primary" size="md">
            Learn More About Me
          </Button>
        </div>
      </div>
    </div>
  </div>
</section>
